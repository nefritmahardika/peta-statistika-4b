<!DOCTYPE html>
<html lang="en">
  <head>
    <base target="_top" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Peta | Kelompok 4B</title>

    <link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />
    <link rel="icon" href="logo.png" />
    <link rel="stylesheet" href="style.css" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,500;0,600;0,700;0,800;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <style>
      html,
      body {
        height: 85%;
        margin: 0;
      }

      .leaflet-container {
        height: 400px;
        width: 600px;
      }
    </style>
  </head>

  <body>
    <nav>
      <div class="logo">
        <a href=""><img src="logo.png" alt="" /></a>
      </div>
      <ul>
        <li><a href="index.html">Beranda</a></li>
        <li><a href="maps.html" target="_blank">Peta</a></li>
        <li><a href="" target="_blank">Paper</a></li>
        <li><a href="tentang.html" target="_blank">Tentang</a></li>
      </ul>
    </nav>
    <div id="map" style="width: 100%; height: 100%"></div>
    <script>
      const southWest = L.latLng(-8.1017, 112.6161);
      const northEast = L.latLng(-7.9015, 112.6848);
      const bounds = L.latLngBounds(southWest, northEast);

      const map = L.map("map", {
        maxBounds: bounds,
        maxBoundsViscosity: 1.0,
      }).setView([-7.9778, 112.6349], 6);

      const tiles = L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
        maxZoom: 19,
        minZoom: 13,
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
      }).addTo(map);

      // Tambahkan 10 marker baru dengan popup
      const markers = [
        { position: [-7.923179, 112.598599], popupText: "Kecelakaan : 7" },
        { position: [-7.935905, 112.606433], popupText: "Kecelakaan : 2" },
        { position: [-7.93918, 112.612313], popupText: "Kecelakaan : 5" },
        { position: [-7.93833, 112.631305], popupText: "Kecelakaan : 9" },
        { position: [-7.934219, 112.64054], popupText: "Kecelakaan : 3" },
        { position: [-7.95911, 112.63521], popupText: "Kecelakaan : 1" },
        { position: [-7.967519, 112.663934], popupText: "Kecelakaan : 8" },
        { position: [-8.0060878, 112.6148655], popupText: "Kecelakaan : 6" },
        { position: [-7.989352, 112.601408], popupText: "Kecelakaan : 4" },
        { position: [-7.928429, 112.652696], popupText: "Kecelakaan : 10" },
      ];

      markers.forEach((marker) => {
        L.marker(marker.position).addTo(map).bindPopup(marker.popupText);
      });

      const popup = L.popup()
			.setLatLng([-7.9778, 112.63493]).setContent('Kota Malang')
			.openOn(map);

      function onMapClick(e) {
        popup
				.setLatLng(e.latlng)
				.setContent(`You clicked the map at ${e.latlng.toString()}`)
				.openOn(map);

      // function onMapClick(e) {
      //   const randomValue = Math.floor(Math.random() * 10) + 1;
      //   const popupText = `Kecelakaan: ${randomValue}`;
      //   L.popup().setLatLng(e.latlng).setContent(popupText).openOn(map);
      // }

      map.on("click", onMapClick);
    </script>
    <footer>
      <p>Kelompok 4B Â© 2023 | All Rights Reserved</p>
    </footer>
  </body>
</html>